# L-Thread Redis Configuration
# Security hardened, ephemeral, and application-controlled eviction

# Memory management
maxmemory 2gb

maxmemory-policy noeviction

# Security: Disable dangerous commands
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command KEYS ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command DEBUG ""
rename-command SCRIPT ""

# Network security
# Protected mode off since in a container network
protected-mode no
bind 0.0.0.0
port 6379

# Persistence disabled (ephemeral data)
save ""
appendonly no

# Performance
tcp-backlog 511
timeout 0
tcp-keepalive 300

# Limits
databases 1
maxclients 1000

# Logging
loglevel notice